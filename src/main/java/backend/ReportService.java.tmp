package backend;

import java.util.*;

/**
 * ReportService â€“ generates simple reports for admins.
 *
 * Supports:
 *  - RE-001 Report Generation
 *  - RE-003 Filter and Query Options
 *  - RE-004 Summary Statistics
 *  - RE-013 Acceptance Report
 */
public class ReportService {

    private final DataStore dataStore;

    public ReportService(DataStore dataStore) {
        this.dataStore = dataStore;
    }

    public void printScholarshipSummary() {
        System.out.println("=== Scholarship Summary Report ===");
        for (Scholarship s : dataStore.getAllScholarships()) {
            System.out.println("- " + s.getName()
                    + " (min GPA: " + s.getMinGpa()
                    + ", active: " + s.isActive() + ")");
        }
    }

    public void printApplicationCountsPerScholarship() {
        System.out.println("=== Application Counts Per Scholarship ===");
        for (Scholarship s : dataStore.getAllScholarships()) {
            List<Application> apps = dataStore.getApplicationsByScholarship(s.getId());
            System.out.println(s.getName() + " -> " + apps.size() + " applications");
        }
    }

    public void printAcceptanceReport() {
        System.out.println("=== Acceptance Report ===");
        for (Application app : dataStore.getAllApplications()) {
            if (app.getStatus() == AppStatus.ACCEPTED || app.getStatus() == AppStatus.AWARDED) {
                System.out.println("Application " + app.getId() +
                        " for scholarship " + app.getScholarship().getName() +
                        " -> " + app.getApplicant().getName() +
                        " [" + app.getStatus() + "]");
            }
        }
    }
}

